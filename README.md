# Alva-Labs-Utilities

This repository contains a collection of GitHub Actions workflow files and tech-stack boilerplates for usage with Alva Labs code tests.

> [!WARNING]
> **Do NOT add code tests here, since this is a public repository.**  
> **This is a location for the boilerplates and workflow files only!**

## What Alva Labs needs for code-tests to work

### Auto-submission the test results

Alva Labs picks up the test results via GitHub Actions. In order for code tests to be submitted properly, a workflow file with the name `publish-test-results.yml` is needed.

> [!NOTE]
> **The exact file name of 'publish-test-results.yml' is required for Alva Labs to setup the test properly!**

The submission workflow need to do the following

#### 1. Generate test results

The expected format of the test results are as follows:

```json
[
  { "test": "<test-name-1>", "result": "passed OR failed" },
  { "test": "<test-name-2>", "result": "passed OR failed" },
  "and so on...."
]
```

and is generated (and escaped for usage with `curl`) in each [generate_test-results_lang.yml](./.github/workflows/generate_test-results_dotnet.yml) workflow file.

#### 2. Send the test results to Alva Labs

The test results must be submitted via a GitHub Action to a autogenerated url available via the GitHub variable `${{ vars.AUTO_SCORE_WEBHOOK_URL }}`, using the autogenerated authorization token `${{ secrets.AUTO_SCORE_TOKEN }}`.

This is done in the workflow file [publish_test-results_alva-labs](./.github/workflows/publish_test-results_alva-labs.yml).

<br>

Examples of `publish-test-results.yml` files can be found in the boilerplates for each language.

### Create a pull request

For the test taker to be able to submit the test, they need to create a pull request.

Since many of the test takers have never worked with GitHub before, a link auto-generating a pull request has been included in each boilerplate in the following format

```markdown
[Pull-Request](./../../compare/submission...main?quick_pull=1&title=Code+Submission&body=Create+a+pull+request+and+then+%5Bsubmit+your+results+over+at+alva+labs%5D%28https%3A%2F%2Fapp.alvalabs.io%2Fstart%2Fapply%2F298)
```

this makes it possible for a test taker to just click a link and select "Create pull request".  
A link back to Alva Labs is included in the body of the pull request in order to streamline things.
